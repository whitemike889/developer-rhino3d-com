<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>An Overview of the GhPython Component with Python</title>
  <meta name="description" content="The GhPython component is the key to working with Python in Grasshopper.  Using Python">

  <!-- OpenGraph for Facebook, Twitter, Slack unfurling -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/guides/rhinopython/ghpython-component/" />
  <meta property="og:title" content="An Overview of the GhPython Component" />
  <meta property="og:description" content="The GhPython component is the key to working with Python in Grasshopper." />
  <meta property=”og:site_name” content="developer.rhino3d.com"/>
  <meta property=”og:image” content="http://developer.rhino3d.com/images/rhinodev-logo-unfurl.png"/>

  <!-- twitter card tags additive with the og: tags -->
  <meta name="twitter:domain" value="developer.rhino3d.com" />
  <meta name="twitter:title" value="An Overview of the GhPython Component" />
  <meta name="twitter:description" value="The GhPython component is the key to working with Python in Grasshopper." />
  
    <meta name="twitter:image" content="http://developer.rhino3d.com/images/rhinodev-logo-unfurl.png" />
  
  <meta name="twitter:url" value="http://developer.rhino3d.com" />
  
  <meta name="twitter:label1" value="Platform(s)" />
  <meta name="twitter:data1" value="Windows, Mac, Grasshopper" />
  
  
  <meta name="twitter:label2" value="Language(s)" />
  <meta name="twitter:data2" value="Python" />
  

  <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/github.min.css">
  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/languages/vbnet.min.js"></script>
  <script src="/wip/node_modules/highlightjs-line-numbers.js/dist/highlightjs-line-numbers.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script>hljs.initLineNumbersOnLoad();</script>

  <!-- Overridden theme -->
  <link rel="stylesheet" href="/wip/css/main.css">

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
  <!-- Bootstrap override -->
  <link rel="stylesheet" href="/wip/css/bootstrap-override.css">

  <link rel="canonical" href="http://developer.rhino3d.com/wip/guides/rhinopython/ghpython-component/">
  <link rel="alternate" type="application/rss+xml" title="Rhino Developer Docs" href="http://developer.rhino3d.com/wip/feed.xml" />

  <link rel="shortcut icon" href="http://developer.rhino3d.com/favicon.ico?v=2" />
  <!-- Saving bookmarks to mobile devices -->
  <!-- For non-Retina (@1× display) iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="/wip/images/apple-touch-icon-precomposed.png"><!-- 57×57px -->
  <!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/wip/images/apple-touch-icon-72x72-precomposed.png">
  <!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/wip/images/apple-touch-icon-76x76-precomposed.png">
  <!-- For iPhone with @2× display running iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/wip/images/apple-touch-icon-114x114-precomposed.png">
  <!-- For iPhone with @2× display running iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/wip/images/apple-touch-icon-120x120-precomposed.png">
  <!-- For iPad with @2× display running iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/wip/images/apple-touch-icon-144x144-precomposed.png">
  <!-- For iPad with @2× display running iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/wip/images/apple-touch-icon-152x152-precomposed.png">
  <!-- For iPhone 6 Plus with @3× display: -->
  <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/wip/images/apple-touch-icon-180x180-precomposed.png">
  <!-- For Chrome for Android: -->
  <link rel="icon" sizes="192x192" href="images/touch-icon-192x192.png">

  <!-- Diable crawling until this version is the stable version -->
  <meta name="robots" content="noindex" />
</head>


  <body>

    <!-- Google Tag Manager **This belongs right after the <body> tag**-->
    <noscript>
        <iframe src="//www.googletagmanager.com/ns.html?id=GTM-MWMDKN"
        height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <script>
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-MWMDKN');
    </script>
    <!-- End Google Tag Manager -->


    
<div class="version-banner">
    Hey, you're viewing the <strong>wip</strong> version of this page!
    <a href="/guides/rhinopython/ghpython-component/">View the current version instead.</a>
</div>

<!-- Check the version banner for broken links and remove the link if found -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script>
$(document).ready(function()
{
  var splitPath = window.location.pathname.split("/");
  var nonWipURL = "/" + splitPath.splice(2,splitPath.length-2).join("/");

  $.get(nonWipURL).fail(function ()
  {
    var $aTag = $("div.version-banner > a");
    $aTag.text("View the current site instead.");
    $aTag.attr("href", "/");
  });
});
</script>




    <div class="container">

      <header class="site-header">


    <a class="site-title" href="/wip/"><img src="/wip/images/rhinodevlogo148x128.png" alt="Rhino Developer Docs" height="48" width="56"></a><a class="site-title" href="/wip/">Rhino Developer Docs</a>

    <nav class="site-nav">
      <img class="menu-icon" src="/wip/images/gi.svg">
      
      <div class="trigger">
      	<!--<a class="page-link" href="/wip/">Welcome</a>-->
        <!-- get current page title and "collection" to figure out which nav
             link should be "active" -->
        
        
        
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
        
          
            
              
                
                  <a class="page-link active" href="/wip/guides/">Guides</a>
                
              
            
          
        
          
            
              
                
                  <a class="page-link" href="/wip/api/">API</a>
                
              
            
          
        
          
            
              
                
                  <a class="page-link" href="/wip/samples/">Samples</a>
                
              
            
          
        
          
            
          
        
          
            
              
                
                  <a class="page-link" href="/wip/videos/">Videos</a>
                
              
            
          
        
        <a class="page-link" href="http://discourse.mcneel.com/c/rhino-developer">Forums</a>
        <!-- Google Search Engine -->
        <!-- TODO Move to this site back into the Mcneel search, or use a simple site only search for results -->
        <div id="sitesearch">
            <!-- Google CSE Search Box Begins  -->
            <!-- Use of this code assumes agreement with the Google Custom Search Terms of Service. -->
            <!-- The terms of service are available at https://www.google.com/cse/docs/tos.html -->
            <form id="cref" action="/wip/search-results.html">
                <input type="hidden" name="cref" value="007988927381198593803:mcq6pshqsn8" />
                <input id="searchtext" type="text" name="q" size="24" value="" placeholder="search" />
                <input class="searchBox" type="submit" name="sa" size="2" value=" " />
            </form>
        <!-- Google CSE Search Box Ends -->
        </div>
        <!--End of Google Search Engine -->
      </div>
    </nav>

</header>


      <div class="page-content">
        <!--div class="wrapper"-->
          <div class="container-fluid">

<div class="row-fluid">
    <!--Nav Bar -->
    <nav class="col-xs-0 col-md-3 bs-docs-sidebar">
    <ul id="sidebar" class="nav nav-stacked fixed">
        <!-- Find the h2 group and any h3 subgroups -->
        

        
          

          
            
            
            
            
            <li>
              <a href="#component-details">Component Details</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#input-parameters">Input parameters</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#output-parameters">Output parameters</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#out-parameter">Out parameter</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#advanced-input-properties">Advanced Input Properties</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#next-steps">Next Steps</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#related-topics">Related Topics</a>

              

            </li>
          

        
    </ul>
</nav>


    <!--Main Content -->
    <div class="col-xs-12 col-md-9">
      <!--<div class="post">-->

        <article class="post-content">

          <ol class="breadcrumb">
              
              
              
              <li><a href="/wip/guides/rhinopython">RhinoPython</a></li>

              
                
                  <li class="active">ghPython</li>
                
              
          </ol>

          <h1>An Overview of the GhPython Component</h1>

          <p>
  <span class="guide_byline">
    
      
      
        by <a href="https://discourse.mcneel.com/users/scottd/activity">Scott Davidson</a>
      
    
  </span>

</p>

          <p>The GhPython component is the key to working with Python in Grasshopper.</p>

          <p>The GhPython component acts as a Python interpreter in Grasshopper.  Along with its access to IronPython 2.7, the GhPython component can also access the-easy-to-use RhinoScritSyntax. For more direct access to Rhino functions, more experienced programmers may choose to use the RhinoCommon, which also can be imported into the GhPython component. There is extensive documentation about <a href="http://developer.rhino3d.com/guides/rhinopython/">RhinoScriptSyntax and Python</a> on the Developer site. For more details about RhinoCommon, please refer to the <a href="http://developer.rhino3d.com/guides/rhinocommon">McNeel RhinoCommon Developer site</a>.</p>

<h2 id="component-details">Component Details</h2>

<p>The GhPython conponent can be found on the Math &gt; Script toolbar:</p>

<p><img src="/wip/images/ghpython-installed.png" alt="/wip/images/ghpython-installed.png" class="img-center" width="95%" /></p>

<p>Drag and drop the component onto the canvas:</p>

<p><img src="/wip/images/ghpython-component-detail.png" alt="/wip/images/ghpython-component-detail.png" class="img-center" width="95%" /></p>

<p>The default script component has two inputs and two outputs. The user can change the names of input and output, the data type and data structure of the input and also add more inputs and outputs parameters or remove them.</p>

<ul>
  <li>x: first input of a .NET type (object).</li>
  <li>y: second input of a .NET type (object).</li>
  <li>Out: output string with compiling messages.</li>
  <li>A: Returned output of type object.</li>
</ul>

<p>To edit the Python script in the component, simply double-click the component:</p>

<p><img src="/wip/images/ghpython-blankeditor.png" alt="/wip/images/ghpython-blankeditor.png" class="img-center" width="75%" /></p>

<p>Simple type in the Python code, clicking on OK will save the code in the component.</p>

<h2 id="input-parameters">Input parameters</h2>

<p>By default, there are two input parameters named x and y.  It is possible to edit parameters names, delete or add new ones. By zooming into a component new controls will appear on the component:</p>

<p><img src="/wip/images/ghpython-component.png" alt="/wip/images/ghpython-component.png" class="img-center" width="30%" /></p>

<p>Use <em>+</em> and <em>-</em> buttons to add and subtract inputs.</p>

<p><img src="/wip/images/ghpython-removeinput.png" alt="/wip/images/ghpython-removeinput.png" class="img-center" width="35%" /></p>

<p>You can also right-click on a parameter to change its name. The name is also the variable name in the Python script.</p>

<p><img src="/wip/images/ghpython-rename-input.png" alt="/wip/images/ghpython-rename-input.png" class="img-center" width="35%" /></p>

<p>Please note that the names of the parameters must follow <a href="https://docs.python.org/2/reference/lexical_analysis.html#identifiers">Python identifier naming</a> . Just make sure that these names are reflective of what the parameter is, and that they also do not contain white spaces or special characters.</p>

<p>The inputs will show up in the GhPython editor as global variables.  For instance, here is a simple definition:</p>

<p><img src="/wip/images/ghpython-input.png" alt="/wip/images/ghpython-input.png" class="img-center" width="80%" /></p>

<p>The code to process the <code>x</code> input is as follows:</p>

<pre><code class="language-python">if x:
    print("x is true.")
else:
    print("x is false.")
</code></pre>

<p>As the Boolean toggle is changed, the <code>x</code> value changes.  The <code>print</code> method will out put a string to the out of the component.</p>

<h2 id="output-parameters">Output parameters</h2>

<p>Like the inputs, you can define as many outputs or returns as you need when you “zoom in” and push the “+” sign.  Unlike input parameters, there are no default datatypes associated with output.  The output datatype will be assigned inside your script.</p>

<p>To actually send information to the output from the script, simply assign the value(s) to the output variable name.  For instance, in this case the output is <em>a</em>:</p>

<p><img src="/wip/images/ghpython-component.png" alt="/wip/images/ghpython-component.png" class="img-center" width="30%" /></p>

<p>To send the information out to <em>a</em> enter this line in the editor:</p>

<pre><code class="language-python">a = "This string will be sent to the output"
</code></pre>

<p><img src="/wip/images/ghpython-output.png" alt="/wip/images/ghpython-output.png" class="img-center" width="80%" /></p>

<p>Each time Grasshopper recalculates the definition, the Python component will run and send out the value(s) to the output.</p>

<h2 id="out-parameter">Out parameter</h2>

<p>Out parameter is there by default to provide some useful information about your code. I often find myself connecting the out parameter to a panel component to be able to read the information directly without having to hover over the out parameter.</p>

<p><img src="/wip/images/ghpython-outerror.png" alt="/wip/images/ghpython-outerror.png" class="img-center" width="80%" /></p>

<p>There are two types of messages that you can get in the out parameter.</p>

<ul>
  <li>The compile-time messages. Those include errors and warning about your code that prevent your component from running or can potentially give incorrect results. These are very helpful information to help point you to the lines in code that the compiler is having trouble with so that you can make appropriate adjustments.</li>
  <li>The run-time messages.  You can send bits of text to the out parameter. You can use those to track information generated by your code as it is running.</li>
</ul>

<h2 id="advanced-input-properties">Advanced Input Properties</h2>

<p><img src="/wip/images/ghpython-inputoptions.png" alt="/wip/images/ghpython-inputoptions.png" class="float-img-right" width="300" /></p>

<p>For most basic work, the instructions above are all that are needed.  But, there are a few advanced options that can be set on the GhPython inputs that can be useful in certain situations.</p>

<p>To access the input options, right-click on any of the inputs.</p>

<p>The top entry is the Parameter or variable name: you can click on it and type a new name.</p>

<p>The next section is the general attributes or functions common to most GH components.</p>

<p>Then is a section to input data directly to the component and to manage that data.</p>

<p>The three access options ‘Item Access’, ‘List Access’ and ‘Tree Access’ change the way lists and datatrees are imported into the GhPython component. This controls how lists of objects are imported.  For instance a string of characters can be input as each character individually:</p>

<pre><code class="language-python">"This string"
[1,3,5,6]
</code></pre>

<p>If the input is set to ‘Item Access’, then each character is sent in separately:</p>

<pre class="line-numbers"><code class="language-python">T
h
i
s

s
t
r
i
n
g

[
1
3
5
6
]
</code></pre>

<p>While this is a good way to manipulate each character in order, by switching the input to <code>List Input</code>, then the complete string is sent in each Grasshopper iteration:</p>

<pre class="line-numbers"><code class="language-python">This string
[1,3,5,6]
</code></pre>

<p>The third section is most powerful to use the <em>Type hint</em>. Input parameters are set by default to the .NET type “object”. Sometimes is best to specify a datatype on input to make the code more readable and efficient. Types can be primitive such as integers or doubles, or geometry specific RhinoCommon types that are used only in Rhino such as “Point3d” or a “Curve”. You need to select the appropriate type for each input.</p>

<p>The rhinoscriptsyntax Type Hint is special: when it is selected, any geometry will be added to the Grasshopper document, and then its ID (Guid) inside it will be passed in the variable. With the rest of the hints, GhPython will call into Grasshopper and perform the same type of operations that Grasshopper does when it requires a special data type. This conversion is costly. If you want to make things as quick as possible, choose ‘No Type Hint’. However, users of your component will benefit greatly from using a meaningfully-set and appropriate type hint.</p>

<h2 id="next-steps">Next Steps</h2>

<p>That lays out the basics of the GhPython component.  Next is a look into the component Python editor for Grasshopper.</p>

<hr />

<h2 id="related-topics">Related Topics</h2>

<ul>
  <li><a href="/wip/guides/rhinopython/what-are-python-rhinoscript">Your first script with Python in Grasshopper</a></li>
  <li><a href="/wip/guides/rhinopython/what-are-python-rhinoscript">What is Python and RhinoScript?</a></li>
  <li><a href="/wip/guides/rhinopython/python-loading-scripts">Editing Python in Grasshopper</a></li>
  <li><a href="/wip/guides/rhinopython/">Python Guide for Rhino</a></li>
</ul>

        </article>

      <!--</div>-->

    </div>
</div>
</div>

        <!--/div-->
      </div>

      <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">

      
        <div class="row">
          <div class="col-md-4">

            <p class="text">
              
                Author: <a href="https://discourse.mcneel.com/users/scottd/activity">Scott Davidson</a>
              
            </p>
          </div>
          <div class="col-md-4 text-center">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            <a href="https://github.com/mcneel/developer-rhino3d-com/blob/wip/_guide_topics/rhinopython/ghpython-component.md" target="_blank">Edit page on GitHub</a>
          </div>
            <div class="col-md-4">
              <span class="pull-right">
                <span class="glyphicon glyphicon-cog"></span>&nbsp;<a href="/wip/admin">Admin</a>
              </span>
            </div>
        </div>

        <div class="row text-center">
          © 1997 - 2017 Robert McNeel &amp; Associates
        </div>

      

    </div>

  </div>

  <script>
    if (navigator.appVersion.indexOf("Win")!=-1)
    {
      var body = document.getElementsByTagName("body");
      body[0].style.fontWeight = '400';
    }
  </script>

</footer>

    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

    <!-- MathJax -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script type="text/javascript">
    $('body').scrollspy({
        target: '.bs-docs-sidebar',
        offset: 150 /* fixed header is about 40px high */
    });
    </script>
    <!--
    Next block expands Bootstrap Collapse component when linked to it.  Used in rhinoscriptsyntax api docs
    ex: http://developer.rhino3d.com/api/RhinoScriptSyntax/win/#collapse-PointCompare
    -->
    <script type="text/javascript">
    $(document).ready(function () {
        if(document.title == 'rhinoscriptsyntax' && location.hash != null && location.hash != ""){
            $('.collapse').removeClass('in');
            $('#collapse-' + location.hash.split("-")[1] + '.collapse').collapse('show');
        }
    });
    </script>
  </body>

</html>
