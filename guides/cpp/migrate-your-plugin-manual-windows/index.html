<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Migrate your plugin project to Rhino 6 manually with C/C++</title>
  <meta name="description" content="This guide walks you through manually migrating your Rhino 5 plugin project to Rhino 6.  Using C/C++">

  <!-- OpenGraph for Facebook, Twitter, Slack unfurling -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/guides/cpp/migrate-your-plugin-manual-windows/" />
  <meta property="og:title" content="Migrate your plugin project to Rhino 6 manually" />
  <meta property="og:description" content="This guide walks you through manually migrating your Rhino 5 plugin project to Rhino 6." />
  <meta property=”og:site_name” content="developer.rhino3d.com"/>
  <meta property=”og:image” content="http://developer.rhino3d.com/images/rhinodev-logo-unfurl.png"/>

  <!-- twitter card tags additive with the og: tags -->
  <meta name="twitter:domain" value="developer.rhino3d.com" />
  <meta name="twitter:title" value="Migrate your plugin project to Rhino 6 manually" />
  <meta name="twitter:description" value="This guide walks you through manually migrating your Rhino 5 plugin project to Rhino 6." />
  
    <meta name="twitter:image" content="http://developer.rhino3d.com/images/rhinodev-logo-unfurl.png" />
  
  <meta name="twitter:url" value="http://developer.rhino3d.com" />
  
  <meta name="twitter:label1" value="Platform(s)" />
  <meta name="twitter:data1" value="Windows" />
  
  
  <meta name="twitter:label2" value="Language(s)" />
  <meta name="twitter:data2" value="C/C++" />
  

  <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/vbnet.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script src="/node_modules/highlightjs-line-numbers.js/dist/highlightjs-line-numbers.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script>hljs.initLineNumbersOnLoad();</script>

  <!-- Overridden theme -->
  <link rel="stylesheet" href="/css/main.css">

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
  <!-- Bootstrap override -->
  <link rel="stylesheet" href="/css/bootstrap-override.css">

  <link rel="canonical" href="http://developer.rhino3d.com/guides/cpp/migrate-your-plugin-manual-windows/">
  <link rel="alternate" type="application/rss+xml" title="Rhino Developer Docs" href="http://developer.rhino3d.com/feed.xml" />

  <link rel="shortcut icon" href="http://developer.rhino3d.com/favicon.ico?v=2" />
  <!-- Saving bookmarks to mobile devices -->
  <!-- For non-Retina (@1× display) iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png"><!-- 57×57px -->
  <!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
  <!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/images/apple-touch-icon-76x76-precomposed.png">
  <!-- For iPhone with @2× display running iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
  <!-- For iPhone with @2× display running iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/images/apple-touch-icon-120x120-precomposed.png">
  <!-- For iPad with @2× display running iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">
  <!-- For iPad with @2× display running iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/images/apple-touch-icon-152x152-precomposed.png">
  <!-- For iPhone 6 Plus with @3× display: -->
  <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/images/apple-touch-icon-180x180-precomposed.png">
  <!-- For Chrome for Android: -->
  <link rel="icon" sizes="192x192" href="images/touch-icon-192x192.png">

  <!-- Diable crawling until this version is the stable version -->
  <!--<meta name="robots" content="noindex" />-->
</head>


  <body>

    <!-- Google Tag Manager **This belongs right after the <body> tag**-->
    <noscript>
        <iframe src="//www.googletagmanager.com/ns.html?id=GTM-MWMDKN"
        height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <script>
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-MWMDKN');
    </script>
    <!-- End Google Tag Manager -->


    



  <!-- The following are "casts" from the string to number using math filters... -->
  
  

  <!-- ...but we need to check to see if the original branches were numbers or not... -->
  
  

  
  
  
  

  <!--  -->




    <div class="container">

      <header class="site-header">


    <a class="site-title" href="/"><img src="/images/rhinodevlogo148x128.png" alt="Rhino Developer Docs" height="48" width="56"></a><a class="site-title" href="/">Rhino Developer Docs</a>

    <nav class="site-nav">
      <img class="menu-icon" src="/images/gi.svg">
      
      <div class="trigger">
      	<!--<a class="page-link" href="/">Welcome</a>-->
        <!-- get current page title and "collection" to figure out which nav
             link should be "active" -->
        
        
        
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
        
          
            
              
                
                  <a class="page-link active" href="/guides/">Guides</a>
                
              
            
          
        
          
            
              
                
                  <a class="page-link" href="/api/">API</a>
                
              
            
          
        
          
            
              
                
                  <a class="page-link" href="/samples/">Samples</a>
                
              
            
          
        
          
            
          
        
          
            
              
                
                  <a class="page-link" href="/videos/">Videos</a>
                
              
            
          
        
        <a class="page-link" href="http://discourse.mcneel.com/c/rhino-developer">Forums</a>
        <!-- Google Search Engine -->
        <!-- TODO Move to this site back into the Mcneel search, or use a simple site only search for results -->
        <div id="sitesearch">
            <!-- Google CSE Search Box Begins  -->
            <!-- Use of this code assumes agreement with the Google Custom Search Terms of Service. -->
            <!-- The terms of service are available at https://www.google.com/cse/docs/tos.html -->
            <form id="cref" action="/search-results.html">
                <input type="hidden" name="cref" value="007988927381198593803:mcq6pshqsn8" />
                <input id="searchtext" type="text" name="q" size="24" value="" placeholder="search" />
                <input class="searchBox" type="submit" name="sa" size="2" value=" " />
            </form>
        <!-- Google CSE Search Box Ends -->
        </div>
        <!--End of Google Search Engine -->
      </div>
    </nav>

</header>


      <div class="page-content">
        <!--div class="wrapper"-->
          <div class="container-fluid">

<div class="row-fluid">
    <!--Nav Bar -->
    <nav class="col-xs-0 col-md-3 bs-docs-sidebar">
    <ul id="sidebar" class="nav nav-stacked fixed">
        <!-- Find the h2 group and any h3 subgroups -->
        

        
          

          
            
            
            
            
            <li>
              <a href="#migrate-the-project">Migrate the project</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#remove-32-bit-support">Remove 32-bit support</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#rename-build-configurations">Rename build configurations</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#add-property-sheet">Add property sheet</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#modify-the-project">Modify the project</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#related-topics">Related Topics</a>

              

            </li>
          

        
    </ul>
</nav>


    <!--Main Content -->
    <div class="col-xs-12 col-md-9">
      <!--<div class="post">-->

        <article class="post-content">

          <ol class="breadcrumb">
              
              
              
              <li><a href="/guides/cpp">C/C++</a></li>

              
                
                  <li class="active">Getting Started</li>
                
              
          </ol>

          <h1>Migrate your plugin project to Rhino 6 manually</h1>

          <p>
  <span class="guide_byline">
    
      
      
        by <a href="https://discourse.mcneel.com/users/dale/activity">Dale Fugier</a>
      
    
  </span>

</p>

          <p>This guide walks you through manually migrating your Rhino 5 plugin project to Rhino 6.</p>

          <p>It is presumed you already have the necessary tools installed and are ready to go.  If you are not there yet, see <a href="/guides/cpp/installing-tools-windows">Installing Tools (Windows)</a>.</p>

<h2 id="migrate-the-project">Migrate the project</h2>

<ol>
  <li>Launch <em>Visual Studio 2015</em> and click <em>File</em> &gt; <em>Open</em> &gt; <em>Project/Solution…</em>.</li>
  <li>Navigate to your project’s folder and open either your plugin project <em>(.vcxproj)</em> or solution <em>(.sln)</em></li>
  <li>When your plugin project opens, navigate to the project’s setting by clicking <em>Project</em> &gt; <em>Properties…</em>.</li>
  <li>In the project’s settings, set the <em>Configuration</em> to <em>All Configurations</em>, and set the platform to <em>x64</em>.</li>
  <li>Then, set the <em>Platform Toolset</em> to <em>Visual Studio 2015 (v140)</em> and the click <em>Apply</em>.
<img src="/images/migrate-plugin-windows-cpp.png" alt="Plugin Settings" /></li>
</ol>

<h2 id="remove-32-bit-support">Remove 32-bit support</h2>

<p>Rhino 6 plugins are 64-bit only. If your plugin project has <em>Win32</em> platform support, then it is safe to remove it using <em>Visual Studio’s Configuration Manager</em>.</p>

<ol>
  <li>From <em>Visual Studio 2015</em>, click <em>Build</em> &gt; <em>Configuration Manager…</em>.
 <img src="/images/migrate-plugin-windows-cpp-02.png" alt="Configuration Manager" /></li>
  <li>In <em>Project Contexts</em>, click <em>Platform &gt; Edit…</em>.
 <img src="/images/migrate-plugin-windows-cpp-03.png" alt="Select Project Platforms" /></li>
  <li>In <em>Edit Project Platforms</em>, select the <em>Win32</em> platform, click <em>Remove</em> and then click <em>Close</em>.
 <img src="/images/migrate-plugin-windows-cpp-04.png" alt="Edit Project Platforms" /></li>
  <li>Repeat the above step for the solution by click <em>Active solution platform &gt; Edit…</em>.</li>
  <li>In <em>Edit Solution Platforms</em>, select the <em>Win32</em> platform, click <em>Remove</em> and then click <em>Close</em>.</li>
</ol>

<h2 id="rename-build-configurations">Rename build configurations</h2>

<p>Rhino 6 plugin projects have different project build configuration names. See <a href="/guides/cpp/plugin-build-configurations">Understanding Build Configurations</a> for details. In order to use the SDK Property Sheets, you will need to rename the plugin project’s build configurations so they match the new build configuration names.</p>

<ol>
  <li>In <em>Project Contexts</em>, click <em>Configuration &gt; Edit…</em>.
 <img src="/images/migrate-plugin-windows-cpp-05.png" alt="Select Project Configurations" /></li>
  <li>In <em>Edit Project Configurations</em>, rename the <em>Debug</em> configuration to <em>DebugRhino</em>.</li>
  <li>And then, rename the <em>PseudoDebug</em> configuration to <em>Debug</em>.
 <img src="/images/migrate-plugin-windows-cpp-06.png" alt="Edit Project Configurations" /></li>
  <li>When you have finished renaming the configurations, click <em>Close</em>.
 <img src="/images/migrate-plugin-windows-cpp-07.png" alt="Rename Project Configurations" /></li>
  <li>Repeat the above step for the solution by click <em>Active solution Configuration &gt; Edit…</em>.</li>
  <li>In <em>Edit Solution Configurations</em>, rename the <em>Debug</em> configuration to <em>DebugRhino</em>, and then rename the <em>PseudoDebug</em> configuration to <em>Debug</em>.</li>
  <li>When finished, click <em>Close</em>.</li>
  <li>Close <em>Configuration Manager</em>.</li>
</ol>

<h2 id="add-property-sheet">Add property sheet</h2>

<p>The Rhino C/C++ SDK includes Visual Studio Property Sheets that provide a convenient way to synchronize or share common settings among other plugin projects.</p>

<ol>
  <li>From <em>Visual Studio 2015</em>, click <em>View</em> &gt; <em>Property Manager</em>.
 <img src="/images/migrate-plugin-windows-cpp-08.png" alt="Property Manager" /></li>
  <li>Right-click on the <em>Debug | x64</em> configuration and click <em>Add Existing Property Sheet</em>.</li>
  <li>Navigate to the following location: <em>C:\Program Files\Rhino 6.0 SDK\Wizards\Command</em></li>
  <li>Select <em>Rhino.Cpp.PlugIn.props</em> and click <em>OK</em>.</li>
  <li>Repeat the above steps for the the <em>DebugRhino | x64</em> and <em>Release | x64</em> configurations.
 <img src="/images/migrate-plugin-windows-cpp-09.png" alt="Add Existing Property Sheet" /></li>
</ol>

<h2 id="modify-the-project">Modify the project</h2>

<p>The project’s pre-compiled header file, <em>stdafx.h</em>, needs to be modified so SDK header file inclusions point to the correct location. Also, the plugin .cpp file needs to include an additional SDK header. Finally, Visual Studio’s resource editor and compiler requires the project contain a <em>targerver.h</em> file that identifies the target platform.</p>

<ol>
  <li>
    <p>Using <em>Visual Studio’s Solution Explorer</em>, open <em>stdafx.h</em> and add the following preprocessor directive:</p>

    <pre><code> /////////////////////////////////////////////////////////////////////////////
 // stdafx.h : include file for standard system include files,
 // or project specific include files that are used frequently, but
 // are changed infrequently

 #pragma once

 #ifndef VC_EXTRALEAN
 #define VC_EXTRALEAN        // Exclude rarely-used stuff from Windows headers
 #endif

 // Added for Rhino 6 Migration
 #define RHINO_V6_READY

 ...
</code></pre>
  </li>
  <li>
    <p>Also, remove the path specifiers to Rhino SDK header files found in <em>stdafx.h</em>, as the path to the SDK is provided by the SDK Property Sheet added above.</p>

    <pre><code> // Rhino SDK Preamble
 //#include "C:\Program Files (x86)\Rhino 5.0 x64 SDK\Inc\RhinoSdkStdafxPreamble.h"
 #include "RhinoSdkStdafxPreamble.h"

 ...

 // Rhino Plug-in
 //#include "C:\Program Files (x86)\Rhino 5.0 x64 SDK\Inc\RhinoSdk.h"
 #include "RhinoSdk.h"

 // Render Development Kit
 //#include "C:\Program Files (x86)\Rhino 5.0 x64 SDK\Inc\RhRdkHeaders.h"
 #include "RhRdkHeaders.h"

 ...

 // Rhino Plug-in Linking Pragmas
 //#include "C:\Program Files (x86)\Rhino 5.0 x64 SDK\Inc\rhinoSdkPlugInLinkingPragmas.h"
 #include "rhinoSdkPlugInLinkingPragmas.h"
</code></pre>
  </li>
  <li>
    <p>Using <em>Visual Studio’s Solution Explorer</em>, open the project’s <em>PlugIn.cpp</em> file and add the following SDK include statement:</p>

    <pre><code> #include "StdAfx.h"
 #include "SamplePlugIn.h"

 // Added for Rhino 6 Migration
 #include "rhinoSdkPlugInDeclare.h"

 ...
</code></pre>
  </li>
  <li>Using <em>Visual Studio’s Solution Explorer</em>, right-click on the <em>Header Files</em> folder and click <em>Add</em> &gt; <em>New Item…</em>.</li>
  <li>Add a new <em>Header File (.h)</em> named <em>targetver.h</em>.</li>
  <li>
    <p>Add the following content to it:</p>

    <pre><code> #pragma once

 // Including SDKDDKVer.h defines the highest available Windows platform.
 // If you wish to build your application for a previous Windows platform,
 // include WinSDKVer.h and set the _WIN32_WINNT macro to the platform you
 // wish to support before including SDKDDKVer.h.
 #include "rhinoSdkWindowsVersion.h"

 #include &lt;SDKDDKVer.h&gt;
</code></pre>
  </li>
</ol>

<p>Your plugin project should now be ready to build with the Rhino 6 C/C++ SDK.</p>

<h2 id="related-topics">Related Topics</h2>

<ul>
  <li><a href="/guides/general/what-is-a-rhino-plugin">What is a Rhino Plugin?</a></li>
  <li><a href="/guides/cpp/installing-tools-windows">Installing Tools (Windows)</a></li>
  <li><a href="/guides/cpp/migrate-your-plugin-windows">Migrate your plugin project to Rhino 6</a></li>
</ul>

        </article>

      <!--</div>-->

    </div>
</div>
</div>

        <!--/div-->
      </div>

      <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">

      
        <div class="row">
          <div class="col-md-4">

            <p class="text">
              
                Author: <a href="https://discourse.mcneel.com/users/dale/activity">Dale Fugier</a>
              
            </p>
          </div>
          <div class="col-md-4 text-center">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            <a href="https://github.com/mcneel/developer-rhino3d-com/blob/6/_guide_topics/cpp/migrate-your-plugin-manual-windows.md" target="_blank">Edit page on GitHub</a>
          </div>
            <div class="col-md-4">
              <span class="pull-right">
                <span class="glyphicon glyphicon-cog"></span>&nbsp;<a href="/admin">Admin</a>
              </span>
            </div>
        </div>

        <div class="row text-center">
          © 1997 - 2017 Robert McNeel &amp; Associates
        </div>

      

    </div>

  </div>

  <script>
    if (navigator.appVersion.indexOf("Win")!=-1)
    {
      var body = document.getElementsByTagName("body");
      body[0].style.fontWeight = '400';
    }
  </script>

</footer>

    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

    <!-- MathJax -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script type="text/javascript">
    $('body').scrollspy({
        target: '.bs-docs-sidebar',
        offset: 150 /* fixed header is about 40px high */
    });
    </script>
    <!--
    Next block expands Bootstrap Collapse component when linked to it.  Used in rhinoscriptsyntax api docs
    ex: http://developer.rhino3d.com/api/RhinoScriptSyntax/win/#collapse-PointCompare
    -->
    <script type="text/javascript">
    $(document).ready(function () {
        if(document.title == 'rhinoscriptsyntax' && location.hash != null && location.hash != ""){
            $('.collapse').removeClass('in');
            $('#collapse-' + location.hash.split("-")[1] + '.collapse').collapse('show');
        }
    });
    </script>
  </body>

</html>
