<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>What is Rhino3dmIO? with C/C++, C#</title>
  <meta name="description" content="This guide covers the RhinoCommon (.NET) build of openNURBS.  Using C/C++, C#">

  <!-- OpenGraph for Facebook, Twitter, Slack unfurling -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="/guides/opennurbs/what-is-rhino3dmio/" />
  <meta property="og:title" content="What is Rhino3dmIO?" />
  <meta property="og:description" content="This guide covers the RhinoCommon (.NET) build of openNURBS." />
  <meta property=”og:site_name” content="developer.rhino3d.com"/>
  <meta property=”og:image” content="http://developer.rhino3d.com/images/rhinodev-logo-unfurl.png"/>

  <!-- twitter card tags additive with the og: tags -->
  <meta name="twitter:domain" value="developer.rhino3d.com" />
  <meta name="twitter:title" value="What is Rhino3dmIO?" />
  <meta name="twitter:description" value="This guide covers the RhinoCommon (.NET) build of openNURBS." />
  
    <meta name="twitter:image" content="http://developer.rhino3d.com/images/rhinodev-logo-unfurl.png" />
  
  <meta name="twitter:url" value="http://developer.rhino3d.com" />
  
  <meta name="twitter:label1" value="Platform(s)" />
  <meta name="twitter:data1" value="Windows, Mac" />
  
  
  <meta name="twitter:label2" value="Language(s)" />
  <meta name="twitter:data2" value="C/C++, C#" />
  

  <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/vbnet.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  <script src="/node_modules/highlightjs-line-numbers.js/dist/highlightjs-line-numbers.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script>hljs.initLineNumbersOnLoad();</script>

  <!-- Overridden theme -->
  <link rel="stylesheet" href="/css/main.css">

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

  <!-- Optional theme -->
  <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous"> -->
  <!-- Bootstrap override -->
  <link rel="stylesheet" href="/css/bootstrap-override.css">

  <link rel="canonical" href="http://developer.rhino3d.com/guides/opennurbs/what-is-rhino3dmio/">
  <link rel="alternate" type="application/rss+xml" title="Rhino Developer Docs" href="http://developer.rhino3d.com/feed.xml" />

  <link rel="shortcut icon" href="http://developer.rhino3d.com/favicon.ico?v=2" />
  <!-- Saving bookmarks to mobile devices -->
  <!-- For non-Retina (@1× display) iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="/images/apple-touch-icon-precomposed.png"><!-- 57×57px -->
  <!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/images/apple-touch-icon-72x72-precomposed.png">
  <!-- For the iPad mini and the first- and second-generation iPad (@1× display) on iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="76x76" href="/images/apple-touch-icon-76x76-precomposed.png">
  <!-- For iPhone with @2× display running iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/images/apple-touch-icon-114x114-precomposed.png">
  <!-- For iPhone with @2× display running iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="120x120" href="/images/apple-touch-icon-120x120-precomposed.png">
  <!-- For iPad with @2× display running iOS ≤ 6: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/images/apple-touch-icon-144x144-precomposed.png">
  <!-- For iPad with @2× display running iOS ≥ 7: -->
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="/images/apple-touch-icon-152x152-precomposed.png">
  <!-- For iPhone 6 Plus with @3× display: -->
  <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/images/apple-touch-icon-180x180-precomposed.png">
  <!-- For Chrome for Android: -->
  <link rel="icon" sizes="192x192" href="images/touch-icon-192x192.png">

  <!-- Diable crawling until this version is the stable version -->
  <!--<meta name="robots" content="noindex" />-->
</head>


  <body>

    <!-- Google Tag Manager **This belongs right after the <body> tag**-->
    <noscript>
        <iframe src="//www.googletagmanager.com/ns.html?id=GTM-MWMDKN"
        height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <script>
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-MWMDKN');
    </script>
    <!-- End Google Tag Manager -->


    

<!-- The following are "casts" from the string to number using math filters... -->



<!-- ...but we need to check to see if the original branches were numbers or not... -->









  <div class="version-banner">

    
      
        
        
          <strong>NEW:</strong> Welcome to the <strong>Rhino 6</strong> version of this page! <a href="/5/guides/opennurbs/what-is-rhino3dmio/">Looking for the older Rhino 5 version?</a>
        
        
      
    
</div>

<!-- Check the version banner for broken links and remove the link if found -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script>
$(document).ready(function()
{
  var splitPath = window.location.pathname.split("/");
  var linkURL = "/5/" + splitPath.splice(1,splitPath.length-1).join("/");

  $.get(linkURL).fail(function ()
  {
    var $aTag = $("div.version-banner > a");
    $aTag.text("Looking for the older Rhino 5 site?");
    $aTag.attr("href", "/5/");
  });
});
</script>


    <div class="container">

      <header class="site-header">


    <a class="site-title" href="/"><img src="/images/rhinodevlogo148x128.png" alt="Rhino Developer Docs" height="48" width="56"></a><a class="site-title" href="/">Rhino Developer Docs</a>

    <nav class="site-nav">
      <img class="menu-icon" src="/images/gi.svg">
      
      <div class="trigger">
      	<!--<a class="page-link" href="/">Welcome</a>-->
        <!-- get current page title and "collection" to figure out which nav
             link should be "active" -->
        
        
        
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
            
              
            
          
        
          
        
          
            
              
                
                  <a class="page-link active" href="/guides/">Guides</a>
                
              
            
          
        
          
            
              
                
                  <a class="page-link" href="/api/">API</a>
                
              
            
          
        
          
            
              
                
                  <a class="page-link" href="/samples/">Samples</a>
                
              
            
          
        
          
            
          
        
          
            
              
                
                  <a class="page-link" href="/videos/">Videos</a>
                
              
            
          
        
        <a class="page-link" href="http://discourse.mcneel.com/c/rhino-developer">Forums</a>
        <!-- Google Search Engine -->
        <!-- TODO Move to this site back into the Mcneel search, or use a simple site only search for results -->
        <div id="sitesearch">
            <!-- Google CSE Search Box Begins  -->
            <!-- Use of this code assumes agreement with the Google Custom Search Terms of Service. -->
            <!-- The terms of service are available at https://www.google.com/cse/docs/tos.html -->
            <form id="search-box" action="/search-results.html">
                <input id="searchtext" type="search" name="q" size="24" value="" placeholder="Search" />
                <input class="searchBox" type="submit" size="2" value=" " />
            </form>
        <!-- Google CSE Search Box Ends -->
        </div>
        <!--End of Google Search Engine -->
      </div>
    </nav>

</header>


      <div class="page-content">
        <!--div class="wrapper"-->
          <div class="container-fluid">

<div class="row-fluid">
    <!--Nav Bar -->
    <nav class="col-xs-0 col-md-3 bs-docs-sidebar">
    <ul id="sidebar" class="nav nav-stacked fixed">
        <!-- Find the h2 group and any h3 subgroups -->
        

        
          

          
            
            
            
            
            <li>
              <a href="#overview">Overview</a>

              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#windows">Windows</a>

              
                <ul class="nav nav-stacked">
                  

                  
                    
                    
                    
                    
                    
                    <li>
                        <a href="#steps-to-compile-from-source">Steps to compile from source</a>
                    </li>
                  
                    
                    
                    
                    
                    
                    <li>
                        <a href="#steps-to-install-the-nuget-package">Steps to install the NuGe...</a>
                    </li>
                  

                </ul>
              

            </li>
          

        
          

          
            
            
            
            
            <li>
              <a href="#mac">Mac</a>

              
                <ul class="nav nav-stacked">
                  

                  
                    
                    
                    
                    
                    
                    <li>
                        <a href="#steps-to-compile-from-source-1">Steps to compile from source</a>
                    </li>
                  

                </ul>
              

            </li>
          

        
    </ul>
</nav>


    <!--Main Content -->
    <div class="col-xs-12 col-md-9">
      <!--<div class="post">-->

        <article class="post-content">

          <ol class="breadcrumb">
              
              
              
              <li><a href="/guides/opennurbs">openNURBS</a></li>

              
                
                  <li class="active">Overview</li>
                
              
          </ol>

          <h1>What is Rhino3dmIO?</h1>

          <p>
  <span class="guide_byline">
    
      
      
        by <a href="https://discourse.mcneel.com/users/dan/activity">Dan Belcher</a>
      
    
  </span>

</p>

          <p>This guide covers the RhinoCommon (.NET) build of openNURBS.</p>

          <h2 id="overview">Overview</h2>

<p>RhinoCommon supports a build “flavor” that allows it to be a .NET SDK for the openNURBS library.  This allows you to write .NET applications that can read/write the <em>.3dm</em> file format and since you have access to the full source debug down to every little piece of code.</p>

<div class="bs-callout bs-callout-danger">
  <h4>WARNING</h4>
  <p>This is NOT meant for any Rhino plugin development.  You should only be using Rhino3dmIO if you are attempting to read/write 3dm files from an application other than Rhino!</p>
</div>

<p>When built for openNURBS, RhinoCommon compiles will consist of two dynamic libraries:</p>

<ol>
  <li><em>Rhino3dmIO.DLL</em> (C# DLL which .NET applications would reference)</li>
  <li><em>rhino3dmio_native.DLL</em> (Native C++ DLL which includes all of the opennurbs library; this file is called <em>libopennurbs.dylib</em> on macOS)</li>
</ol>

<p><em>Rhino3dmIO.DLL</em> uses pInvoke to call C functions exported from <em>rhino3dmio_native.DLL</em> in order to do most of the “heavy lifting” in openNURBS.  On Windows, make sure that both of these DLLs are in the same directory when used as a reference in your .NET application.</p>

<hr />

<h2 id="windows">Windows</h2>

<p>There are two ways to use the Rhino3dmIO library.  You can either compile from the source code for maximum flexibility or you can install the Rhino3dmIO NuGet package into your project for simplicity.</p>

<h3 id="steps-to-compile-from-source">Steps to compile from source</h3>

<div class="bs-callout bs-callout-danger">
  <h4>NOTE</h4>
  <p>Currently, the only tested and supported compiled for the following process is Visual Studio 2010</p>
</div>

<ol>
  <li>Clone or download all of the source code for the <a href="https://github.com/mcneel/rhinocommon">RhinoCommon project</a>.</li>
  <li>Download the <a href="http://www.rhino3d.com/opennurbs">OpenNURBS C++ toolkit</a>.  Unzip the source code and place it in the folder titled <em>opennurbs</em>.  This is located in the RhinoCommon project under <em>rhinocommon/c/opennurbs</em>.</li>
  <li>Open the <em>Rhino3dmIO.sln</em> in Visual Studio 2010.  This solution contains the C# and C++ projects needed along with sample C# console applications for testing.  You should now be able to compile and test the samples.</li>
</ol>

<h3 id="steps-to-install-the-nuget-package">Steps to install the NuGet package</h3>

<ol>
  <li>Install the NuGet package manager, if you haven’t already, by following <a href="http://docs.nuget.org/docs/start-here/installing-nuget">these instructions</a>.</li>
  <li><em>Right-click</em> your project file in <em>Solution Explorer</em> and select <em>Manage NuGet Packages …</em>.</li>
  <li>On the left side of the dialog expand the <em>Online</em> option and select <em>nuget.org</em>.</li>
  <li>In the top right search box type “Rhino3dmIO” and click on a <em>Rhino3dmIO.dll</em> option (there are 3: <em>x86</em>, <em>x64</em>, and <em>AnyCPU</em>) and click on the <em>Install</em> button.</li>
  <li>Close the <em>Manage NuGet Packages</em> dialog.  The Nuget package is installed and ready to use.</li>
</ol>

<p>Changes that were made:</p>

<ul>
  <li>The <em>Rhino3dmIO NuGet package</em> is installed in your project.</li>
  <li>The project references the <em>Rhino3dmIO</em> assembly.</li>
  <li>The project’s <em>Post-build event</em> has been modified so the <em>rhino3dmio_native.dll</em> gets copied to the same output directory as <em>Rhino3dmIO.dll</em> when the project is built.</li>
</ul>

<hr />

<h2 id="mac">Mac</h2>

<div class="bs-callout bs-callout-danger">
  <h4>NOTE</h4>
  <p>The following process has been tested with Xamarin Studio 4.2.5 and Xcode 5.1.1. You will need to have both Xamarin Studio and Xcode installed.</p>
</div>

<h3 id="steps-to-compile-from-source-1">Steps to compile from source</h3>

<ol>
  <li>Clone or download all of the source code for the <a href="https://github.com/mcneel/rhinocommon">RhinoCommon project</a>.</li>
  <li>Download the <a href="http://www.rhino3d.com/opennurbs">OpenNURBS C++ toolkit</a>.  Unzip the source code and place it in the folder titled <em>opennurbs</em>.  This is located in the RhinoCommon project under <em>rhinocommon/c/opennurbs</em>.</li>
  <li>Open the <em>Rhino3dmIO.sln</em> in <em>Xamarin Studio</em> for macOS.  You may get a number of warnings that some of the projects will not open correctly…it is safe to ignore these. This solution contains the C# projects needed along with a sample console application (<em>example_read_mac</em>) for testing.</li>
  <li><em>Right-click</em> on the <em>example_read_mac</em> project and select <em>Set as Startup Project</em>. In the <em>Project</em> drop-down menu, select <em>Build libopennurbs.dylib</em>.  This will build the native library.  When this is finished, you should be able to compile and test the sample project (see <a href="https://github.com/mcneel/rhinocommon/tree/master/examples/rhino3dmio/example_read_mac">these instructions</a>).</li>
</ol>

<p>More details:</p>

<ul>
  <li>Your project will need to reference two assemblies: <em>Rhino3dmIo.dll</em> and <em>libopennurbs.dylib</em>.</li>
  <li>The <em>Build libopennurbs.dylib</em> command uses a script that instructs the Xcode command-line tools to build the native C++ library.  This script is named <em>build_native.py</em> and is located in the <em>rhinocommon/c/</em> folder.</li>
  <li>You can run <em>build_native.py</em> as a <em>Before Build</em> event in your project.  The <em>example_read_mac</em> project shows how this is done.  (You can find the <em>Before Build</em> commands in Xamarin Studio by <em>double-clicking</em> on the project to bring up the <em>Options</em> dialog.  <em>Custom Commands</em> are listed under the <em>Build</em> section.)</li>
  <li>Your project will need to create a <em>After Build</em> event that assures that the native library (<em>libopennurbs.dylib</em>) is copied to the appropriate location.  (Console applications - like <em>example_read_mac</em> - require that the library is in the same folder as the executable and be renamed to <em>rhino3dmio_native</em> as well.)</li>
  <li>If your project is targeting <em>MonoMac/Xamarin.Mac</em> - the most likely scenario - you will need to copy <em>libopennurbs.dylib</em> into the Application Bundle using an <em>After Build</em> command.  The conventional location for frameworks and libraries is: <code>$TARGET_DIR/Contents/Frameworks/$FRAMEWORK_NAME</code></li>
  <li>The most convenient way to reference <em>libopennurbs.dylib</em> in a <em>MonoMac/Xamarin.Mac</em> project is to add an <em>.dll.config</em> file to your project so that <em>Rhino3dmIO.dll</em> can consume the native library.  This file should be named <em>Rhino3dmIO.dll.config</em> with the <em>Copy to output directory</em> property set to <em>Copy if newer</em> or <em>Always copy.</em>  This config file should contain the following:</li>
</ul>

<pre><code>&lt;configuration&gt; &lt;dllmap dll="rhino3dmio_native" target="@executable_path/../Frameworks/libopennurbs.dylib"/&gt; &lt;/configuration&gt;
</code></pre>

<ul>
  <li>The <em>exe.config</em> file sits next to the executable within the Application bundle and redirects mono to reference the specified file.</li>
</ul>

        </article>

      <!--</div>-->

    </div>
</div>
</div>

        <!--/div-->
      </div>

      <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">

      
        <div class="row">
          <div class="col-md-4">

            <p class="text">
              
                Author: <a href="https://discourse.mcneel.com/users/dan/activity">Dan Belcher</a>
              
            </p>
          </div>
          <div class="col-md-4 text-center">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>
            <a href="https://github.com/mcneel/developer-rhino3d-com/blob/6/_guide_topics/opennurbs/what-is-rhino3dmio.md" target="_blank">Edit page on GitHub</a>
          </div>
            <div class="col-md-4">
              <span class="pull-right">
                <span class="glyphicon glyphicon-cog"></span>&nbsp;<a href="/admin">Admin</a>
              </span>
            </div>
        </div>

        <div class="row text-center">
          © 1997 - 2017 Robert McNeel &amp; Associates
        </div>

      

    </div>

  </div>

  <script>
    if (navigator.appVersion.indexOf("Win")!=-1)
    {
      var body = document.getElementsByTagName("body");
      body[0].style.fontWeight = '400';
    }
  </script>

</footer>

    </div>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

    <!-- MathJax -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script type="text/javascript">
    $('body').scrollspy({
        target: '.bs-docs-sidebar',
        offset: 150 /* fixed header is about 40px high */
    });
    </script>
    <!--
    Next block expands Bootstrap Collapse component when linked to it.  Used in rhinoscriptsyntax api docs
    ex: http://developer.rhino3d.com/api/RhinoScriptSyntax/win/#collapse-PointCompare
    -->
    <script type="text/javascript">
    $(document).ready(function () {
        if(document.title == 'rhinoscriptsyntax' && location.hash != null && location.hash != ""){
            $('.collapse').removeClass('in');
            $('#collapse-' + location.hash.split("-")[1] + '.collapse').collapse('show');
        }
    });
    </script>
  </body>

</html>
